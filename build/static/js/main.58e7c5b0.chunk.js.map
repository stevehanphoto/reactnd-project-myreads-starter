{"version":3,"sources":["BooksAPI.js","components/TitleHeader.js","components/BookCover.js","components/BookShelfChanger.js","components/Book.js","components/BooksGrid.js","components/BookShelf.js","components/HomePage.js","components/SearchPage.js","components/Page404.js","App.js","index.js"],"names":["api","token","localStorage","Math","random","toString","substr","headers","Accept","Authorization","update","book","shelf","fetch","concat","id","method","Object","objectSpread","Content-Type","body","JSON","stringify","then","res","json","TitleHeader","react_default","a","createElement","className","react_router_dom","to","BookCover","props","imageLinks","style","width","height","backgroundColor","textAlign","fontSize","color","verticalAlign","lineHeight","backgroundImage","thumbnail","BookShelfChanger","value","onChange","e","onShelfChange","target","disabled","Book","components_BookCover","components_BookShelfChanger","newShelf","handleShelfChange","title","authors","join","BooksGrid","books","map","key","components_Book","BookShelf","showingBooks","filter","_","startCase","components_BooksGrid","HomePage","components_TitleHeader","components_BookShelf","SearchPage","state","query","updateQuery","_this","setState","searchBook","getShelf","booksOnShelf","length","updatedBooks","oldBook","_this2","this","data","BooksAPI","booksWithShelfInfo","catch","err","console","log","resetSearch","_this3","type","placeholder","event","Component","Page404","BooksApp","isBookOnShelf","push","react_router","path","render","_ref","history","components_SearchPage","exact","components_HomePage","components_Page404","React","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.58e7c5b0.chunk.js","sourcesContent":["\r\nconst api = \"https://reactnd-books-api.udacity.com\"\r\n\r\n\r\n// Generate a unique token for storing your bookshelf data on the backend server.\r\nlet token = localStorage.token\r\nif (!token)\r\n  token = localStorage.token = Math.random().toString(36).substr(-8)\r\n\r\nconst headers = {\r\n  'Accept': 'application/json',\r\n  'Authorization': token\r\n}\r\n\r\nexport const get = (bookId) =>\r\n  fetch(`${api}/books/${bookId}`, { headers })\r\n    .then(res => res.json())\r\n    .then(data => data.book)\r\n\r\nexport const getAll = () =>\r\n  fetch(`${api}/books`, { headers })\r\n    .then(res => res.json())\r\n    .then(data => data.books)\r\n\r\nexport const update = (book, shelf) =>\r\n  fetch(`${api}/books/${book.id}`, {\r\n    method: 'PUT',\r\n    headers: {\r\n      ...headers,\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ shelf })\r\n  }).then(res => res.json())\r\n\r\nexport const search = (query) =>\r\n  fetch(`${api}/search`, {\r\n    method: 'POST',\r\n    headers: {\r\n      ...headers,\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ query })\r\n  }).then(res => res.json())\r\n    .then(data => data.books)\r\n","import React from 'react'\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst TitleHeader = () => {\r\n    return (\r\n        <div className=\"list-books-title\">            \r\n            <Link to=\"/\"><h1>MyReads</h1></Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TitleHeader;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst BookCover = (props) => {\r\n    if (typeof (props.book.imageLinks) === 'undefined') {\r\n        return (\r\n            <div\r\n                className=\"book-cover\"\r\n                style={{\r\n                    width: 128, height: 193, backgroundColor: 'lightgrey',\r\n                    textAlign: 'center', fontSize: '1.4rem', color: 'grey',\r\n                    verticalAlign: 'middle', lineHeight: '193px'\r\n                }}\r\n            >\r\n                No Cover\r\n            </div>\r\n        )\r\n    }\r\n    else {\r\n        return (\r\n            <div\r\n                className=\"book-cover\"\r\n                style={{\r\n                    width: 128, height: 193,\r\n                    backgroundImage: `url(${props.book.imageLinks.thumbnail})`\r\n                }}\r\n            >\r\n            </div>\r\n        )\r\n    }\r\n};\r\n\r\nBookCover.propTypes = {\r\n    book: PropTypes.object.isRequired\r\n};\r\n\r\nexport default BookCover;\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst BookShelfChanger = (props) => {\r\n  return (\r\n    <div className=\"book-shelf-changer\">\r\n      <select value={\r\n          props.book.shelf ? props.book.shelf : 'none'} \r\n          onChange={(e) => props.onShelfChange(e.target.value)}\r\n      >\r\n        <option value=\"move\" disabled>Move to...</option>\r\n        <option value=\"currentlyReading\">Currently Reading</option>\r\n        <option value=\"wantToRead\">Want to Read</option>\r\n        <option value=\"read\">Read</option>\r\n        <option value=\"none\">None</option>\r\n      </select>\r\n    </div>\r\n  );\r\n}\r\n\r\nBookShelfChanger.propTypes = {\r\n  book: PropTypes.object.isRequired,\r\n  shelf: PropTypes.string,\r\n  onShelfChange: PropTypes.func.isRequired\r\n};\r\n\r\nexport default BookShelfChanger\r\n","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport BookCover from \"./BookCover\";\r\nimport BookShelfChanger from \"./BookShelfChanger\";\r\n\r\nconst Book = (props) => {\r\n  return (\r\n    <div className=\"book\">\r\n      <div className=\"book-top\">\r\n        <BookCover book={props.book}/>\r\n        <BookShelfChanger \r\n          book={props.book} \r\n          onShelfChange={\r\n            (newShelf) => props.handleShelfChange(props.book, newShelf)} \r\n        />\r\n      </div>\r\n      <div className=\"book-title\">{props.book.title}</div>\r\n      <div className=\"book-authors\">{props.book.authors && props.book.authors.join(', ')}</div>\r\n    </div>\r\n  );  \r\n}\r\n\r\nBook.propTypes = {\r\n  book: PropTypes.object.isRequired,\r\n  handleShelfChange: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Book","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Book from \"./Book\";\r\n\r\nconst BooksGrid = (props) => {\r\n  return (\r\n    <div className=\"bookshelf-books\">\r\n      <ol className=\"books-grid\">\r\n        {props.books.map(book => (\r\n          <li key={book.id}>\r\n            <Book book={book} handleShelfChange={\r\n              (book, newShelf) => props.handleShelfChange(book, newShelf)} />\r\n          </li>\r\n        ))}\r\n      </ol>\r\n    </div>\r\n  );\r\n}\r\n\r\nBooksGrid.propTypes = {\r\n  books: PropTypes.array.isRequired,\r\n  handleShelfChange: PropTypes.func.isRequired\r\n};\r\n\r\nexport default BooksGrid","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport _ from 'lodash'\r\nimport BooksGrid from './BooksGrid'\r\n\r\nconst BookShelf = (props) => {\r\n  const showingBooks = props.books.filter(book => book.shelf === props.shelf);\r\n  return (\r\n    <div>\r\n      <div className=\"bookshelf\">\r\n        <h2 className=\"bookshelf-title\">{_.startCase(props.shelf)}</h2>\r\n        <BooksGrid\r\n          books={showingBooks}\r\n          handleShelfChange={\r\n            (book, newShelf) => props.handleShelfChange(book, newShelf) }\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nBookShelf.propTypes = {\r\n  shelf: PropTypes.string.isRequired,\r\n  books: PropTypes.array.isRequired,\r\n  handleShelfChange: PropTypes.func.isRequired\r\n};\r\n\r\nexport default BookShelf;","import React from 'react'\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from 'prop-types'\r\nimport TitleHeader from './TitleHeader';\r\nimport BookShelf from './BookShelf'\r\n\r\nconst HomePage = (props) => {\r\n    return (\r\n        <div className=\"list-books\">\r\n            <TitleHeader />\r\n            <div className=\"list-books-content\">\r\n                <div>\r\n                    <BookShelf\r\n                        shelf={\"currentlyReading\"}\r\n                        books={props.books}\r\n                        handleShelfChange=\r\n                            {(book, newShelf) => props.handleShelfChange(book, newShelf)}\r\n                    />\r\n                    <BookShelf\r\n                        shelf={\"wantToRead\"}\r\n                        books={props.books}\r\n                        handleShelfChange=\r\n                            {(book, newShelf) => props.handleShelfChange(book, newShelf)}\r\n                    />\r\n                    <BookShelf\r\n                        shelf={\"read\"}\r\n                        books={props.books}\r\n                        handleShelfChange=\r\n                            {(book, newShelf) => props.handleShelfChange(book, newShelf)}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className=\"open-search\">\r\n                <Link to=\"/search\">Add a book</Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nHomePage.propTypes = {\r\n    books: PropTypes.array.isRequired,\r\n    handleShelfChange: PropTypes.func.isRequired\r\n};\r\n\r\nexport default HomePage\r\n","import React, { Component } from 'react'\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from 'prop-types'\r\nimport * as BooksAPI from '../BooksAPI'\r\nimport BooksGrid from './BooksGrid'\r\n\r\nclass SearchPage extends Component {\r\n  static propTypes = {\r\n    booksOnShelf: PropTypes.array.isRequired,\r\n    handleShelfChange: PropTypes.func.isRequired\r\n  };\r\n  state = {\r\n    books: [],\r\n    query: \"\"\r\n  };\r\n  updateQuery = query => {\r\n    this.setState({ query: query });\r\n    this.searchBook(query);\r\n  }\r\n  getShelf = id => {\r\n    const book = this.props.booksOnShelf.filter((book) => book.id === id);\r\n    return book.length ? book[0].shelf : null;\r\n  };\r\n  searchBook(query) {\r\n    if (query && query.length > 0) {\r\n      BooksAPI.search(query)\r\n        .then(books => {\r\n          const booksWithShelfInfo = books.map(book => {\r\n            book.shelf = this.getShelf(book.id);\r\n            return book\r\n          });\r\n          this.setState({ books: booksWithShelfInfo });\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          this.resetSearch();\r\n        });\r\n    }\r\n    else {\r\n      this.resetSearch();\r\n    }\r\n  };\r\n  resetSearch() {\r\n    this.setState({ books: [] });\r\n  }\r\n  handleShelfChange = (book, newShelf) => {\r\n    const updatedBooks = this.state.books.map(oldBook => {\r\n      if (oldBook.id === book.id) {\r\n        oldBook.shelf = newShelf;\r\n      }\r\n      return oldBook\r\n    });\r\n    this.setState({ books: updatedBooks });\r\n\r\n    this.props.handleShelfChange(book, newShelf);\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"search-books\">\r\n        <div className=\"search-books-bar\">\r\n          <Link className=\"close-search\" to=\"/\">\r\n            Close\r\n          </Link>\r\n          <div className=\"search-books-input-wrapper\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search by title or author\"\r\n              value={this.state.query}\r\n              onChange={event => this.updateQuery(event.target.value)}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"search-books-results\">\r\n          <ol className=\"books-grid\"></ol>\r\n          {this.state.books && \r\n          <BooksGrid \r\n            books={this.state.books} \r\n            handleShelfChange={this.handleShelfChange}             \r\n          />}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchPage","import React from 'react'\r\nimport TitleHeader from './TitleHeader';\r\n\r\nconst Page404 = () => {\r\n    return (\r\n        <div>\r\n            <TitleHeader />\r\n            <div className=\"message-404\">\r\n                <h1>404 - PAGE NOT FOUND</h1>\r\n            </div>\r\n        </div>\r\n    )\r\n} \r\n\r\nexport default Page404\r\n","import React from 'react'\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport * as BooksAPI from './BooksAPI'\r\nimport './App.css'\r\nimport HomePage from './components/HomePage'\r\nimport SearchPage from './components/SearchPage'\r\nimport Page404 from './components/Page404'\r\n\r\nclass BooksApp extends React.Component {\r\n  state = {\r\n    books: []\r\n  };\r\n  componentDidMount() {\r\n    BooksAPI.getAll().then(books => {\r\n      this.setState(() => ({\r\n        books\r\n      }));\r\n    });\r\n  }\r\n  handleShelfChange = (book, newShelf) => {\r\n    BooksAPI.update(book, newShelf);\r\n    let isBookOnShelf = false;\r\n    const updatedBooks = this.state.books.map(oldBook => {\r\n      if (oldBook.id === book.id) {\r\n        isBookOnShelf = true;\r\n        return { ...oldBook, shelf: newShelf };\r\n      }\r\n      return oldBook;\r\n    });\r\n    if (!isBookOnShelf) {\r\n      updatedBooks.push({...book, shelf: newShelf});\r\n    }\r\n    this.setState({ books: updatedBooks });\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"app\">\r\n        <Switch>\r\n          <Route\r\n            path=\"/search\"\r\n            render={({ history }) =>\r\n              <SearchPage booksOnShelf=\r\n                {this.state.books} handleShelfChange={this.handleShelfChange}\r\n              />}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/\"\r\n            render={() =>\r\n              <HomePage books=\r\n                {this.state.books} handleShelfChange={this.handleShelfChange} />\r\n            }\r\n          />\r\n          <Route render={() => <Page404 />} />\r\n        </Switch>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BooksApp\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport App from './App';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n    <BrowserRouter>\r\n        <App />\r\n    </BrowserRouter>, document.getElementById(\"root\"));"],"sourceRoot":""}